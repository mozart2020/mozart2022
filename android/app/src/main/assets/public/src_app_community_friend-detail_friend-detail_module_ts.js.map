{"version":3,"file":"src_app_community_friend-detail_friend-detail_module_ts.js","mappings":"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","sources":["./src/app/community/friend-detail/friend-detail-routing.module.ts","./src/app/community/friend-detail/friend-detail.module.ts","./src/app/community/friend-detail/friend-detail.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FriendDetailPage } from './friend-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FriendDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FriendDetailPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FriendDetailPageRoutingModule } from './friend-detail-routing.module';\r\n\r\nimport { FriendDetailPage } from './friend-detail.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FriendDetailPageRoutingModule\r\n  ],\r\n  declarations: [FriendDetailPage]\r\n})\r\nexport class FriendDetailPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { UserService } from 'src/app/services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-friend-detail',\r\n  templateUrl: './friend-detail.page.html',\r\n  styleUrls: ['./friend-detail.page.scss'],\r\n})\r\nexport class FriendDetailPage implements OnInit {\r\n  friendId: string;\r\n  connectionId: string;\r\n  friendEmail: string;\r\n  friendProfileImage = '';\r\n  friendName = '';\r\n  friendAboutMe = '';\r\n  friendCountry = '';\r\n  friendLanguages: string = '';\r\n  friendSubjects: string = '';\r\n\r\n  constructor(\r\n    private alertCtrl: AlertController,\r\n    private activatedRoute: ActivatedRoute,\r\n    private userService: UserService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getFriend();\r\n    this.getConnectionId();\r\n  }\r\n  getFriend() {\r\n    const id = this.activatedRoute.snapshot.params['friendId'];\r\n    console.log('ActivatedRoute got: ', id);\r\n    this.userService.getUserById(id)\r\n    .subscribe(res => {\r\n      this.friendId = id;\r\n      this.friendEmail = res.email;\r\n      if (res.profileImage != undefined) {\r\n        this.friendProfileImage = res.profileImage;\r\n      }\r\n      if (res.name != undefined) {\r\n        this.friendName = res.name;\r\n      }       \r\n      if (res.aboutMe != undefined) {\r\n        this.friendAboutMe = res.aboutMe;\r\n      }\r\n      if (res.country != undefined) {\r\n        this.friendCountry = res.country;\r\n      }\r\n      if (res.languages != undefined) {\r\n        this.friendLanguages = res.languages.join(\", \");\r\n      }\r\n      if (res.subjects != undefined) {      \r\n        this.friendSubjects = res.subjects.join(\", \");\r\n        console.log('res.Subjects[ ] - ', res.subjects);\r\n      }\r\n    })\r\n  }\r\n  removeFriend() {\r\n\r\n  }\r\n  getConnectionId() {\r\n    //const currentUserId = this.authService.getCurrentUserId();\r\n    this.userService.getCurrentUserConnections().subscribe(res => { //lädt alle connections des current users\r\n      const test = res.forEach(value => { //geht durch alle geladenen connections durch\r\n        if (value.groupName == '') {      //filtert alle groups weg, friendships bleiben übrig\r\n          const users = value.users;      //holt sich die user ids als Array\r\n          users.forEach(id => {\r\n            if(id == this.friendId) {\r\n              console.log(value);\r\n              this.connectionId = value.id;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    })\r\n  }\r\n  async presentAlert() {\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'Remove friend, are you sure?',\r\n      subHeader: 'Feature \"removing friends\" is in progress.',\r\n      message: 'Includes removing connection and updating lessons.',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n    const { role } = await alert.onDidDismiss();\r\n    console.log('onDidDismiss resolved with role', role);\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}