{"version":3,"file":"src_app_community_profile_profile_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEV;AAE7C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sDAAW;KACvB;IACD;QACE,IAAI,EAAE,sBAAsB;QAC5B,YAAY,EAAE,GAAG,EAAE,CAAC,0OAA4D,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,4BAA4B,CAAC;KAC5H;CACF,CAAC;IAMW,wBAAwB,SAAxB,wBAAwB;CAAG;AAA3B,wBAAwB;IAJpC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACpBI;AACM;AACF;AAEA;AAEuB;AAEvB;IAWhC,iBAAiB,SAAjB,iBAAiB;CAAG;AAApB,iBAAiB;IAT7B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,6EAAwB;SACzB;QACD,YAAY,EAAE,CAAC,sDAAW,CAAC;KAC5B,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACnBoB;AACgB;AACwB;AAChC;IAO7C,WAAW,SAAX,WAAW;IAStB,YACU,WAAwB,EACxB,SAA0B,EAC1B,SAA0B;QAF1B,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAVpC,oBAAe,GAAW,EAAE,CAAC;QAE7B,uBAAkB,GAAW,EAAE,CAAC;QAChC,uBAAkB,GAAW,EAAE,CAAC;QAChC,wBAAmB,GAAW,EAAE,CAAC;QACjC,yBAAoB,GAAW,EAAE,CAAC;IAM9B,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAChD,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,KAAK,CAAC;YAClC,IAAI,GAAG,CAAC,YAAY,IAAI,SAAS,EAAE;gBACjC,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC,YAAY,CAAC;aACjD;YACD,IAAI,GAAG,CAAC,IAAI,IAAI,SAAS,EAAE;gBACzB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,IAAI,CAAC;aACjC;YACD,IAAI,GAAG,CAAC,OAAO,IAAI,SAAS,EAAE;gBAC5B,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,OAAO,CAAC;aACvC;YACD,IAAI,GAAG,CAAC,OAAO,IAAI,SAAS,EAAE;gBAC5B,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,OAAO,CAAC;aACvC;YACD,IAAI,GAAG,CAAC,SAAS,IAAI,SAAS,EAAE;gBAC9B,IAAI,CAAC,oBAAoB,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACtD;YACD,IAAI,GAAG,CAAC,QAAQ,IAAI,SAAS,EAAE;gBAC7B,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnD,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;aACjD;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACK,eAAe;;YACnB,MAAM,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;YAC/C,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,SAAS,EAAE,mGAAsB;gBACjC,cAAc,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;gBAC1B,iBAAiB,EAAE,GAAG;aACvB,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IACK,SAAS;;YACb,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,MAAM,EAAE,sBAAsB;gBAC9B,SAAS,EAAE,oEAAoE;gBAC/E,OAAO,EAAE,+FAA+F;gBACxG,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;CAEF;;YAjEQ,+DAAW;YAFX,2DAAe;YAAE,2DAAe;;AAS5B,WAAW;IALvB,wDAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,oEAAkC;;KAEnC,CAAC;GACW,WAAW,CA0DvB;AA1DuB;;;;;;;;;;;;;;;;;;;;;;;;ACViC;AACG;AACX;IAOpC,sBAAsB,SAAtB,sBAAsB;IAMjC,YACU,WAAwB,EACxB,SAA0B;QAD1B,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAiB;QANpC,aAAQ,GAAW,EAAE,CAAC;QACtB,gBAAW,GAAW,EAAE,CAAC;QACzB,gBAAW,GAAW,EAAE,CAAC;IAKrB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACpD,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1E,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,OAAO,CAAC;YAC/B,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,OAAO,CAAC;QACjC,CAAC,CAAC;IACJ,CAAC;IACK,UAAU;;YACd,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACxF,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAC3B,CAAC;KAAA;IACD,MAAM;QACJ,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;CAEF;;YAnCQ,sEAAW;YACX,2DAAe;;;iBAQrB,gDAAK;;AADK,sBAAsB;IALlC,wDAAS,CAAC;QACT,QAAQ,EAAE,0BAA0B;QACpC,iFAA+C;;KAEhD,CAAC;GACW,sBAAsB,CA2BlC;AA3BkC","sources":["./src/app/community/profile/profile-routing.module.ts","./src/app/community/profile/profile.module.ts","./src/app/community/profile/profile.page.ts","./src/app/community/profile/update-profile-modal/update-profile-modal.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage\r\n  },\r\n  {\r\n    path: 'update-profile-modal',\r\n    loadChildren: () => import('./update-profile-modal/update-profile-modal.module').then( m => m.UpdateProfileModalPageModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfilePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePageRoutingModule } from './profile-routing.module';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProfilePageRoutingModule\r\n  ],\r\n  declarations: [ProfilePage]\r\n})\r\nexport class ProfilePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, AlertController } from '@ionic/angular';\r\nimport { UpdateProfileModalPage } from './update-profile-modal/update-profile-modal.page';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit {\r\n  currentUserProfileImage: string;\r\n  currentUserName: string = '';\r\n  currentUserEmail: string;\r\n  currentUserAboutMe: string = '';\r\n  currentUserCountry: string = '';\r\n  currentUserSubjects: string = '';\r\n  currentUserLanguages: string = '';\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private modalCtrl: ModalController,\r\n    private alertCtrl: AlertController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.authService.getCurrentUser().subscribe(res => {\r\n      this.currentUserEmail = res.email;\r\n      if (res.profileImage != undefined) {\r\n        this.currentUserProfileImage = res.profileImage;\r\n      }\r\n      if (res.name != undefined) {\r\n        this.currentUserName = res.name;\r\n      }       \r\n      if (res.aboutMe != undefined) {\r\n        this.currentUserAboutMe = res.aboutMe;\r\n      }\r\n      if (res.country != undefined) {\r\n        this.currentUserCountry = res.country;\r\n      }\r\n      if (res.languages != undefined) {\r\n        this.currentUserLanguages = res.languages.join(\", \");\r\n      }\r\n      if (res.subjects != undefined) {      \r\n        this.currentUserSubjects = res.subjects.join(\", \");\r\n        console.log('res.Subjects[Â ] - ', res.subjects);\r\n      }\r\n    });\r\n  }\r\n  async openUpdateModal() {\r\n    const id = this.authService.getCurrentUserId();\r\n    const modal = await this.modalCtrl.create({\r\n      component: UpdateProfileModalPage,\r\n      componentProps: { id: id },\r\n      initialBreakpoint: 0.8\r\n    });\r\n    await modal.present();\r\n  }\r\n  async infoAlert() {\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'subjects - languages',\r\n      subHeader: 'Features \"Adding&Updating subjects and languages\" are in progress.',\r\n      message: 'Implementation of language and subject pickers possibly necessary. Same to country, actually.',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-update-profile-modal',\r\n  templateUrl: './update-profile-modal.page.html',\r\n  styleUrls: ['./update-profile-modal.page.scss'],\r\n})\r\nexport class UpdateProfileModalPage implements OnInit {\r\n  @Input() id: string;\r\n  userName: string = '';\r\n  userAboutMe: string = '';\r\n  userCountry: string = '';\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private modalCtrl: ModalController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.userService.getUserById(this.id).subscribe(res => {\r\n      this.userName = res.name;\r\n      console.log('update profile modal userName in ngOnInit: ', this.userName);\r\n      this.userAboutMe = res.aboutMe;\r\n      this.userCountry = res.country;\r\n    })\r\n  }\r\n  async updateUser() {\r\n    this.userService.updateUser(this.id, this.userName, this.userAboutMe, this.userCountry);\r\n    this.modalCtrl.dismiss();\r\n  }\r\n  cancel() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}